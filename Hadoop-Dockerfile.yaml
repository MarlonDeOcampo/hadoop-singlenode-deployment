# Use the official Hadoop base image for version 3.3.5
FROM apache/hadoop:3.3.5

# Set environment variables
ENV HADOOP_HOME /opt/hadoop

# Copy configuration files into the image
COPY core-site.xml $HADOOP_HOME/etc/hadoop/core-site.xml
COPY hdfs-site.xml $HADOOP_HOME/etc/hadoop/hdfs-site.xml
COPY mapred-site.xml $HADOOP_HOME/etc/hadoop/mapred-site.xml
COPY yarn-site.xml $HADOOP_HOME/etc/hadoop/yarn-site.xml
COPY capacity-scheduler.xml $HADOOP_HOME/etc/hadoop/capacity-scheduler.xml

# Optionally, you can copy other configuration files or scripts as needed

#Expose Hadoop ports (if necessary)
EXPOSE 8020 8030 8040 8042 8088 9870

# Start Hadoop services (if necessary)
CMD [ "hadoop-daemon.sh", "start", "namenode" ]